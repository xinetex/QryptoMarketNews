<?xml version="1.0" encoding="UTF-8"?>
<!-- QChannel MainScene - TV News Style Layout -->
<component name="MainScene" extends="Scene">
    <interface>
        <field id="selectedZone" type="node" />
        <!-- Voice & Second Screen Support -->
        <field id="voiceQuery" type="string" onChange="onVoiceQuery" />
        <field id="deviceId" type="string" />
        <field id="pairingToken" type="string" />
        <field id="deepLink" type="assocarray" onChange="onDeepLink" />
        <field id="ecpAction" type="string" onChange="onEcpAction" />
        <field id="launchMode" type="string" onChange="onLaunchModeChanged" />
    </interface>

    <script type="text/brightscript" uri="MainScene.brs" />

    <children>
        <!-- Deep Space Background Gradient (Simulated with Dark Blue/Purple) -->
        <Rectangle id="backgroundRect"
            width="1920"
            height="1080"
            color="#050510" />
            
        <!-- Ambient Glow (Top Left) -->
        <Rectangle id="ambientGlow"
            width="1920"
            height="500"
            color="#1a1a2e"
            opacity="0.5" />

        <!-- TOP HEADER BAR (80px) -->
        <Group id="headerBar" translation="[0,40]">
            <!-- Logo/Brand with Neon Effect -->
            <Label id="heroTitle"
                translation="[60,0]"
                text="PROPHET TV"
                font="font:LargeBoldSystemFont"
                color="#00f3ff" />
            <Label id="heroSubtitle"
                translation="[60,45]"
                text="Crypto Market Intelligence"
                font="font:SmallSystemFont"
                color="#bc13fe" />
            
            <!-- Live Indicator -->
            <Group id="liveIndicator" translation="[1750,15]">
                <Rectangle id="liveDot"
                    width="12"
                    height="12"
                    color="#ff0000"
                    translation="[0,6]" />
                <Label id="liveText"
                    translation="[20,0]"
                    text="LIVE"
                    font="font:SmallBoldSystemFont"
                    color="#ffffff" />
            </Group>
        </Group>

        <!-- MARKET TICKER (60px) -->
        <Group id="tickerSection" translation="[0,120]">
            <!-- Glassmorphism Background -->
            <Rectangle id="tickerBg"
                width="1920"
                height="60"
                color="#ffffff10" />
                
            <Label id="tickerLabel"
                translation="[60,15]"
                text="â–² MARKETS"
                font="font:SmallBoldSystemFont"
                color="#00f3ff" />
            <Label id="tickerContent"
                translation="[200,15]"
                text="Loading market data..."
                font="font:SmallBoldSystemFont"
                color="#ffffff" />
        </Group>

        <!-- MAIN CONTENT AREA -->
        <!-- Left Panel: Featured Zone (Glass Style) -->
        <Group id="heroSection" translation="[60,220]">
            <Rectangle id="heroBg"
                width="420"
                height="540"
                color="#ffffff05" />
            
            <!-- Zone Image -->
            <Poster id="heroImage"
                translation="[0,0]"
                width="420"
                height="240"
                loadDisplayMode="scaleToFill"
                uri="pkg:/images/zones/solana-hero.png" />

            <!-- Timers for Ad Injection -->
            <Timer id="adTimer" repeat="true" duration="15" />
            <Timer id="adRevertTimer" repeat="false" duration="8" />
            
            <!-- Zone Info Container -->
            <Group id="spotlightContent" translation="[25,260]">
                <Label id="spotlightZoneName"
                    text="Solana Ecosystem"
                    font="font:MediumBoldSystemFont"
                    color="#ffffff"
                    width="370" />
                
                <Label id="spotlightStats"
                    translation="[0,45]"
                    text="TVL $8.2B â€¢ 24h +5.2%"
                    font="font:SmallBoldSystemFont"
                    color="#10b981" />
                    
                <Label id="spotlightDesc"
                    translation="[0,90]"
                    text="High-performance blockchain with DeFi, NFTs, and meme coins"
                    font="font:SmallSystemFont"
                    color="#ffffff90"
                    maxLines="4"
                    width="370"
                    lineSpacing="2"
                    wrap="true" />
            </Group>
        </Group>

        <!-- Right Panel: Zone Grid -->
        <Group id="zonesSection" translation="[520,220]">
            <Label id="zonesHeader"
                text="EXPLORE ZONES"
                font="font:SmallBoldSystemFont"
                color="#ffffff50" 
                translation="[0,-30]" />
            
            <!-- Zone Grid with better spacing -->
            <!-- Zone Grid (Fixed Layout) -->
            <MarkupGrid id="zoneGrid"
                translation="[0,0]"
                itemComponentName="ZoneCard"
                numColumns="4"
                numRows="2"
                itemSize="[310,240]"
                itemSpacing="[20,20]"
                focusable="true"
                drawFocusFeedback="false" />
        </Group>

        <!-- BOTTOM NEWS TICKER -->
        <Group id="newsSection" translation="[0,850]">
            <Rectangle id="newsBg"
                width="1920"
                height="80"
                color="#000000"
                opacity="0.8" />
            <Label id="newsIcon"
                translation="[60,25]"
                text="ðŸ“° NEWS"
                font="font:SmallBoldSystemFont"
                color="#bc13fe" />
            <Label id="newsContent"
                translation="[200,25]"
                text="Loading news..."
                font="font:SmallSystemFont"
                color="#ffffff"
                width="1600"
                maxLines="1" />
        </Group>

        <!-- Footer Branding -->
        <Label id="footerBrand"
            translation="[1700,950]"
            text="PROPHET TV"
            font="font:SmallestSystemFont"
            color="#ffffff30"
            horizAlign="right" />

        <!-- Crypto Data Service -->
        <CryptoService id="cryptoService" />

        <!-- NEW: Watchlist Style UI Layer (Phase 4) -->
        <WatchlistLayer id="watchlistLayer" visible="false" />
    </children>
</component>
